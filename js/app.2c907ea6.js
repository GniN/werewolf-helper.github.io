(function(t){function e(e){for(var r,s,i=e[0],l=e[1],c=e[2],f=0,d=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"21bb":function(t,e,a){"use strict";a("2dad")},"2dad":function(t,e,a){},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9c0c":function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s=(a("5c0b"),a("2877")),i={},l=Object(s["a"])(i,n,o,!1,null,null,null),c=l.exports,u=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1-inner",modifiers:{"collapse-1-inner":!0}}],attrs:{size:"sm"}},[t._v("隱藏/顯示玩家訊息輸入")]),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1-inner"}},[a("b-form-textarea",{attrs:{id:"playerText",placeholder:"玩家訊息",rows:"6"},model:{value:t.playerText,callback:function(e){t.playerText=e},expression:"playerText"}}),a("b-button",{staticStyle:{"margin-top":"5px"},attrs:{variant:"primary"},on:{click:t.setPlayers}},[t._v("輸入")])],1),t._l(t.playerNotes,(function(e,r){return a("div",{key:r,staticClass:"notes-panel"},[a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.copy(e)}}},[t._v("複製面板")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.remove(r)}}},[t._v("移除面板")]),a("div",{staticClass:"notes"},t._l(e,(function(e){return a("div",{key:e.name,staticClass:"player",class:{dead:e.dead}},[a("div",{staticClass:"add-tag"},[a("b-dropdown",{attrs:{id:"dropdown-1",text:"",size:"sm",right:""}},t._l(t.actions,(function(r){return a("b-dropdown-item",{key:r.text,on:{click:function(a){return t.doAction(e,r)}}},[a("b-badge",{attrs:{pill:"",variant:r.variant}},[t._v(t._s(r.text))])],1)})),1)],1),a("div",{staticClass:"name"},[t._v(" "+t._s(e.name)+" "),e.dead?a("span",[t._v("💀")]):t._e()]),a("div",{staticClass:"tags"},t._l(e.tags,(function(e){return a("span",{key:e.text,staticClass:"role-tag",style:{color:e.active?e.color:"#bfbfbf","background-color":e.active?e.bg:"#443c30"},attrs:{align:"center"},on:{click:function(t){e.active=!e.active}}},[t._v(" "+t._s(e.text)+" ")])})),0)])})),0)],1)})),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2-inner",modifiers:{"collapse-2-inner":!0}}],attrs:{size:"sm"}},[t._v("隱藏/顯示自由筆記區")]),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-2-inner"}},[a("b-form-textarea",{attrs:{placeholder:"自由筆記",rows:"6"}})],1),a("b-form-textarea",{attrs:{id:"textarea",placeholder:"投票內容 (包含天數)",rows:"6"},model:{value:t.voteText,callback:function(e){t.voteText=e},expression:"voteText"}}),a("div",[a("b-button",{staticStyle:{"margin-top":"5px"},attrs:{variant:"primary"},on:{click:t.calculate}},[t._v("統計")]),a("b-button",{staticStyle:{"margin-top":"5px"},attrs:{variant:"danger"},on:{click:t.clear}},[t._v("清空")])],1),a("div",[a("b-table",{attrs:{items:t.items,fields:t.fields,responsive:"sm",small:"",hover:"",striped:"",bordered:"",dark:""},scopedSlots:t._u([{key:"thead-top",fn:function(e){return[a("b-tr",[a("b-th",[a("span",{staticClass:"sr-only"},[t._v("Name")])]),t._l(t.dates,(function(e){return a("b-th",{key:e.dayText,attrs:{colspan:"3"}},[t._v(t._s(e.dayText))])}))],2)]}}])})],1)],2)},d=[],p=a("2909"),v=a("d4ec"),b=a("bee2"),y=a("262e"),m=a("2caf"),g=(a("ac1f"),a("5319"),a("4de4"),a("99af"),a("1276"),a("159b"),a("d81d"),a("4e82"),a("b0c0"),a("7db0"),a("9ab4")),h=a("2fe1"),x=a("2ef0");function _(t){return"name"===t?-99999:parseInt(t.replace(/\D/g,""))}function k(t,e){return _(t.key)-_(e.key)}var w=function(t){Object(y["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(v["a"])(this,a),t=e.apply(this,arguments),t.playerText="",t.voteText="",t.firstData=!0,t.dates=[],t.actions=[{text:"死",variant:"danger"}],t.options=[{text:"狼",variant:"danger",color:"#fff",bg:"#FF0000"},{text:"狂",variant:"danger",color:"#fff",bg:"#FF0000"},{text:"白",variant:"light",color:"#000",bg:"#fff"},{text:"占",variant:"primary",color:"#fff",bg:"#9933FF"},{text:"靈",variant:"primary",color:"#fff",bg:"#009900"},{text:"獵",variant:"primary",color:"#fff",bg:"#3399FF"},{text:"共",variant:"info",color:"#fff",bg:"#CC9966"},{text:"戀",variant:"info",color:"#fff",bg:"#FF80FF"},{text:"狐",variant:"warning",color:"#fff",bg:"#CC0099"}],t.playerNotes=[],t.items=[],t.fields=[],t}return Object(b["a"])(a,[{key:"copy",value:function(t){this.playerNotes.push(Object(x["cloneDeep"])(t))}},{key:"remove",value:function(t){this.playerNotes=this.playerNotes.filter((function(e,a){return t!==a}))}},{key:"doAction",value:function(t,e){"死"===e.text&&(t.dead=!t.dead)}},{key:"addTag",value:function(t,e){t.tags.some((function(t){return t.text===e.text}))||(t.tags=[].concat(Object(p["a"])(t.tags),[e]))}},{key:"removeTag",value:function(t,e){t.tags=t.tags.filter((function(t){return t.text!==e.text}))}},{key:"clear",value:function(){this.items=[],this.fields=[],this.dates=[],this.firstData=!0}},{key:"setPlayers",value:function(){var t=this,e=[],a=this.playerText.split("\n");console.log(a),a.forEach((function(a){var r=a.split("\t◆");r.forEach((function(a,r){0!==r&&e.push({name:a,dead:!1,tags:t.options.map((function(t){var e=Object.assign({},t);return e.active=!1,e}))})}))})),this.playerNotes.push(e)}},{key:"calculate",value:function(){var t,e,a,r=this,n=this.voteText.split("\n");n.forEach((function(n,o){var s;if(0===o)s=n,r.dates.some((function(t){return t.dayText===s}))||(r.dates.push({key:s,dayText:s}),r.dates=r.dates.sort(k)),t="".concat(s,"_vote"),e="".concat(s,"_to"),a="".concat(s,"_got"),r.firstData&&r.fields.push({key:"name",label:"name"}),r.fields.push({key:a,label:"得",sortable:!0}),r.fields.push({key:t,label:"票",sortable:!0}),r.fields.push({key:e,label:"投",sortable:!0}),r.fields=r.fields.sort(k);else{var i=n.split("\t");if(i.length<3)return;var l=i[0],c=i[1].replace(/\D/g,""),u=i[2].replace(/\D/g,""),f=i[3];r.items.some((function(t){return t.name===l}))||r.items.push({name:l});var d=r.items.find((function(t){return t.name===l}));d[t]=u,d[a]=c,d[e]=f}}))}}]),a}(r["default"]);w=Object(g["a"])([Object(h["a"])({})],w);var O=w,j=O,T=(a("21bb"),Object(s["a"])(j,f,d,!1,null,null,null)),C=T.exports;r["default"].use(u["a"]);var F=[{path:"/",name:"Home",component:C}],S=new u["a"]({base:"/",routes:F}),N=S,P=a("2f62");r["default"].use(P["a"]);var D=new P["a"].Store({state:{},mutations:{},actions:{},modules:{}}),z=a("5f5b"),E=a("b1e0");r["default"].use(z["a"]),r["default"].use(E["a"]),r["default"].config.productionTip=!1,new r["default"]({router:N,store:D,render:function(t){return t(c)}}).$mount("#app")}});
//# sourceMappingURL=app.2c907ea6.js.map